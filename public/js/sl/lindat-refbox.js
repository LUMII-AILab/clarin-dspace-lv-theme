!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],e):"object"==typeof exports?exports.LindatRefBox=e(require("jQuery")):t.LindatRefBox=e(t.jQuery)}(this,function(t){return function(t){function e(n){if(A[n])return A[n].exports;var i=A[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var A={};return e.m=t,e.c=A,e.p="https://lindat.mff.cuni.cz/common/",e(0)}([function(t,e,A){var n=A(1),i=A(21);window.LindatRefBox=i,n.fn.lindatRefBox=function(t){var e=n.extend({},{rest:"https://lindat.mff.cuni.cz/repository/rest"},t),A="lindat-refbox";return this.each(function(){var t=n(this),o=t.data(A);o&&o.destroy(),t.data(A,new i(this,e))}),this},n(document).ready(function(){window.LindatRefBoxConfig||(window.LindatRefBoxConfig={}),n(".refbox").lindatRefBox(window.LindatRefBoxConfig)})},function(e,A){e.exports=t},function(t,e,A){var n,i,o;!function(r,a){i=[t,A(8)],n=a,o="function"==typeof n?n.apply(e,i):n,!(void 0!==o&&(t.exports=o))}(this,function(t,e){"use strict";function A(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=A(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var A=0;A<e.length;A++){var n=e[A];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,A,n){return A&&t(e.prototype,A),n&&t(e,n),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return r(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var A=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=A+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},function(t,e,A){var n,i,o;!function(r,a){i=[t,A(2),A(9),A(7)],n=a,o="function"==typeof n?n.apply(e,i):n,!(void 0!==o&&(t.exports=o))}(this,function(t,e,A,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var A="data-clipboard-"+t;if(e.hasAttribute(A))return e.getAttribute(A)}var l=i(e),s=i(A),d=i(n),f=function(){function t(t,e){for(var A=0;A<e.length;A++){var n=e[A];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,A,n){return A&&t(e.prototype,A),n&&t(e,n),e}}(),u=function(t){function e(t,A){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(A),n.listenClick(t),n}return a(e,t),f(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,d.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,A=!!document.queryCommandSupported;return e.forEach(function(t){A=A&&!!document.queryCommandSupported(t)}),A}}]),e}(s.default);t.exports=u})},function(t,e){function A(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=A},function(t,e,A){function n(t,e,A,n,i){var r=o.apply(this,arguments);return t.addEventListener(A,r,i),{destroy:function(){t.removeEventListener(A,r,i)}}}function i(t,e,A,i,o){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof A?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return n(t,e,A,i,o)}))}function o(t,e,A,n){return function(A){A.delegateTarget=r(A.target,e),A.delegateTarget&&n.call(t,A)}}var r=A(4);t.exports=i},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var A=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===A||"[object HTMLCollection]"===A)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,A){function n(t,e,A){if(!t&&!e&&!A)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(A))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,A);if(a.nodeList(t))return o(t,e,A);if(a.string(t))return r(t,e,A);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,A){return t.addEventListener(e,A),{destroy:function(){t.removeEventListener(e,A)}}}function o(t,e,A){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,A)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,A)})}}}function r(t,e,A){return c(document.body,t,e,A)}var a=A(6),c=A(5);t.exports=n},function(t,e){function A(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var A=t.hasAttribute("readonly");A||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),A||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}t.exports=A},function(t,e){function A(){}A.prototype={on:function(t,e,A){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:A}),this},once:function(t,e,A){function n(){i.off(t,n),e.apply(A,arguments)}var i=this;return n._=e,this.on(t,n,A)},emit:function(t){var e=[].slice.call(arguments,1),A=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=A.length;for(n;n<i;n++)A[n].fn.apply(A[n].ctx,e);return this},off:function(t,e){var A=this.e||(this.e={}),n=A[t],i=[];if(n&&e)for(var o=0,r=n.length;o<r;o++)n[o].fn!==e&&n[o].fn._!==e&&i.push(n[o]);return i.length?A[t]=i:delete A[t],this}},t.exports=A},function(t,e,A){e=t.exports=A(11)(),e.push([t.id,"@font-face{font-family:refbox-icons;src:url("+A(19)+")}@font-face{font-family:refbox-icons;src:url("+A(18)+');font-weight:400;font-style:normal}@keyframes lindat-scale{0%{transform:scale(1);opacity:1}45%{transform:scale(.1);opacity:.7}80%{transform:scale(1);opacity:1}}.lindat-loader>div:nth-child(0){animation:lindat-scale .75s -.36s infinite cubic-bezier(.2,.68,.18,1.08)}.lindat-loader>div:first-child{animation:lindat-scale .75s -.24s infinite cubic-bezier(.2,.68,.18,1.08)}.lindat-loader>div:nth-child(2){animation:lindat-scale .75s -.12s infinite cubic-bezier(.2,.68,.18,1.08)}.lindat-loader>div:nth-child(3){animation:lindat-scale .75s 0s infinite cubic-bezier(.2,.68,.18,1.08)}.lindat-loader>div{background-color:#c09853;width:15px;height:15px;border-radius:100%;margin:2px;animation-fill-mode:both;display:inline-block}html.lindat-modal-open{overflow:hidden}.lindat-overlay{position:fixed;top:0;left:0;height:100%;width:100%;z-index:10000;-ms-flex-pack:center;justify-content:center;-ms-flex-align:start;align-items:flex-start;background:rgba(0,0,0,.5);font-family:Droid Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;box-sizing:border-box;font-size:13px;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;overflow-y:auto}@media (min-width:768px){.lindat-overlay{display:-ms-flexbox;display:flex}}.lindat-overlay *,.lindat-overlay :after,.lindat-overlay :before{box-sizing:inherit}.lindat-modal{padding:20px;margin:20px;background:#fff;border-radius:5px;z-index:10001}@media (min-width:768px){.lindat-modal{min-width:750px}}@media (min-width:992px){.lindat-modal{min-width:970px}}.lindat-modal .lindat-modal-body>textarea{font-family:monospace;width:100%;height:300px;background-color:#eee;color:#555;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);padding:6px 12px;word-wrap:normal;overflow-x:scroll;resize:none;outline:0;word-break:break-all;white-space:pre-wrap}.lindat-modal .lindat-modal-footer{text-align:right;text-transform:uppercase}.lindat-modal-header{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.lindat-modal-header kbd{background-color:#999;padding:.2em .6em .3em;font-weight:700;line-height:1;border-radius:.25em;color:#fff}.lindat-modal-header p{padding:0;margin:10px 0 0;font-size:13px}.lindat-modal-header h3{-ms-flex:1 1 auto;flex:1 1 auto;margin:0 0 10px;padding:0}.lindat-modal-close-button{cursor:pointer;border-radius:2px;height:15px;width:15px;font-size:16px;line-height:15px;background:#ccc;text-align:center;margin:0 0 0 10px}.lindat-refbox{font-family:Droid Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;box-sizing:border-box;font-size:13px;text-shadow:hsla(0,0%,100%,.5) 0 1px 0}.lindat-refbox *,.lindat-refbox :after,.lindat-refbox :before{box-sizing:inherit}.lindat-refbox h3{margin:0;padding:0;font-size:14px;font-weight:700}.lindat-refbox-top{background-color:#fcf8e3;border:1px solid #fbeed5;color:#c09853;padding:10px 10px 5px;border-radius:6px 6px 0 0}.lindat-refbox-formats{padding:0 5px;-ms-flex:1 0 auto;flex:1 0 auto;text-align:right}.lindat-refbox-formats a{padding:.2em .6em .3em;margin:0 2px;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;background-color:#999;text-transform:uppercase;font-size:11px;text-decoration:none;text-shadow:none}.lindat-refbox-formats a:focus,.lindat-refbox-formats a:hover{background-color:gray;color:#fff;text-decoration:none}.lindat-refbox-header{-ms-flex-align:center;align-items:center}.lindat-refbox-body,.lindat-refbox-header{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.lindat-refbox-body{padding:10px}.lindat-refbox-text{color:#999;font-weight:700;-ms-flex:1 1 0px;flex:1 1 0}.lindat-refbox-text a{color:#428bca;outline:0;text-decoration:none}.lindat-refbox-text a:focus,.lindat-refbox-text a:hover{color:#2a6496;text-decoration:underline}.lindat-refbox-copy-wrapper{-ms-flex:0 1 auto;flex:0 1 auto}.lindat-refbox-copy{background:#c09853;display:block;white-space:nowrap;border:none;border-radius:.25em;width:1.3em;height:1.3em;line-height:1em;font-size:2.5em;cursor:pointer;color:#fff}.lindat-refbox-copy:focus{outline:0}.lindat-refbox-copy:hover{background-color:#a47e3c}.lindat-refbox-footer{background-color:#d8edf6;border:1px solid #bbe8ef;color:#38a;padding:5px 10px 10px;border-radius:0 0 6px 6px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-direction:column;flex-direction:column}@media (min-width:768px){.lindat-refbox-footer{-ms-flex-direction:row;flex-direction:row}}.lindat-refbox-integration{-ms-flex:1 0 auto;flex:1 0 auto;margin-bottom:10px}@media (min-width:768px){.lindat-refbox-integration{margin-bottom:0}}.lindat-refbox-services{margin:0 0 0 3em}.lindat-refbox-shares a{text-decoration:none;font-size:3em}.lindat-refbox-shares a:focus,.lindat-refbox-shares a:hover{text-decoration:none}.lindat-share-facebook{color:#395a93;-ms-flex-item-align:end;align-self:flex-end}.lindat-share-facebook:hover{color:#2b436e}.lindat-share-twitter{color:#00aee8;-ms-flex-item-align:end;align-self:flex-end}.lindat-share-twitter:hover{color:#0088b5}.lindat-share-google-plus{color:#d64136;-ms-flex-item-align:end;align-self:flex-end}.lindat-share-google-plus:hover{color:#b42f25}.lindat-icon{font-family:refbox-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:.8;letter-spacing:-3px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lindat-header-icon{font-size:3em;margin-right:.1em}.lindat-icon-twitter:before{content:"\\F081"}.lindat-icon-facebook:before{content:"\\F082"}.lindat-icon-google-plus:before{content:"\\F0D4"}.lindat-icon-quote:before{content:"\\F10D"}.lindat-icon-puzzle:before{content:"\\F12E"}.lindat-icon-share:before{content:"\\F1E0"}.lindat-icon-copy:before{content:" ";background-image:url('+A(20)+');background-size:cover;width:20px;height:23px;display:inline-block;position:relative;color:#fff}button.lindat-button::-moz-focus-inner{border:0;padding:0}.lindat-button{font:inherit;font-size:14px;line-height:1;font-weight:700;color:#fff;display:inline-block;cursor:pointer;padding:6px 12px;margin:0 2px;text-align:center;white-space:nowrap;vertical-align:middle;border-radius:4px;background-color:#428bca;background-image:none;-moz-appearance:button;text-indent:0;text-decoration:none;text-shadow:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid #357ebd}.lindat-button:focus{outline:0;color:#fff;text-decoration:none}.lindat-button:hover{background-color:#2a6496;color:#fff;text-decoration:none}.lindat-dropdown-caret{width:0;height:0;border-top:4px dashed;border-right:4px solid transparent;border-left:4px solid transparent}.lindat-dropdown,.lindat-dropdown-caret{display:inline-block;vertical-align:middle}.lindat-dropdown{position:relative;margin-right:4px}.lindat-dropdown:last-child{margin-right:0}.lindat-dropdown>.lindat-button{position:relative;float:left;margin:0}.lindat-dropdown>.lindat-button+.lindat-dropdown-toggle{padding-left:8px;padding-right:8px}.lindat-dropdown>.lindat-button+.lindat-button{margin-left:-1px}.lindat-dropdown>.lindat-dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.lindat-dropdown>.lindat-button:first-child:not(:last-child):not(.lindat-dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.lindat-dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:14px;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box;max-height:260px;overflow-y:auto}.lindat-dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap;text-decoration:none}.lindat-dropdown-menu>li>a:hover{text-decoration:none;color:#fff;background-color:#428bca}.lindat-tooltip{position:fixed;display:inline-block;background-color:rgba(27,31,35,.8);border-radius:3px;padding:5px;color:#fff;font:normal normal 11px/1.5 -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif}.lindat-tooltip:after{content:" ";position:absolute;bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:transparent transparent rgba(27,31,35,.8)}.lindat-format{border-top:5px solid #fbeed5;border-bottom:5px solid #fbeed5}.lindat-flexrow{-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.lindat-flexcol,.lindat-flexrow{display:-ms-flex;display:-ms-flexbox;display:flex}.lindat-flexcol{-ms-flex-direction:column;flex-direction:column}.lindat-flexrow>div:first-child{width:95%;padding-right:5px}.lindat-format-content>pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.lindat-loading .lindat-refbox-copy,.lindat-loading .lindat-refbox-footer,.lindat-loading .lindat-refbox-formats{display:none}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var A=this[e];A[2]?t.push("@media "+A[2]+"{"+A[1]+"}"):t.push(A[1])}return t.join("")},t.i=function(e,A){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&n[r[0]]||(A&&!r[2]?r[2]=A:A&&(r[2]="("+r[2]+") and ("+A+")"),t.push(r))}},t}},function(t,e,A){!function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function A(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function n(t,e,A){if(e.charAt(A)!=t.charAt(0))return!1;for(var n=1,i=t.length;n<i;n++)if(e.charAt(A+n)!=t.charAt(n))return!1;return!0}function i(e,A,n,a){var c=[],l=null,s=null,d=null;for(s=n[n.length-1];e.length>0;){if(d=e.shift(),s&&"<"==s.tag&&!(d.tag in m))throw new Error("Illegal content in < super tag.");if(t.tags[d.tag]<=t.tags.$||o(d,a))n.push(d),d.nodes=i(e,d.tag,n,a);else{if("/"==d.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+d.n);if(l=n.pop(),d.n!=l.n&&!r(d.n,l.n,a))throw new Error("Nesting error: "+l.n+" vs. "+d.n);return l.end=d.i,c}"\n"==d.tag&&(d.last=0==e.length||"\n"==e[0].tag)}c.push(d)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return c}function o(t,e){for(var A=0,n=e.length;A<n;A++)if(e[A].o==t.n)return t.tag="#",!0}function r(t,e,A){for(var n=0,i=A.length;n<i;n++)if(A[n].c==t&&A[n].o==e)return!0}function a(t){var e=[];for(var A in t)e.push('"'+l(A)+'": function(c,p,t,i) {'+t[A]+"}");return"{ "+e.join(",")+" }"}function c(t){var e=[];for(var A in t.partials)e.push('"'+l(A)+'":{name:"'+l(t.partials[A].name)+'", '+c(t.partials[A])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function l(t){return t.replace(b,"\\\\").replace(h,'\\"').replace(g,"\\n").replace(B,"\\r").replace(w,"\\u2028").replace(x,"\\u2029")}function s(t){return~t.indexOf(".")?"d":"f"}function d(t,e){var A="<"+(e.prefix||""),n=A+t.n+v++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+l(n)+'",c,p,"'+(t.indent||"")+'"));',n}function f(t,e){e.code+="t.b(t.t(t."+s(t.n)+'("'+l(t.n)+'",c,p,0)));'}function u(t){return"t.b("+t+");"}var p=/\S/,h=/\"/g,g=/\n/g,B=/\r/g,b=/\\/g,w=/\u2028/,x=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(i,o){function r(){b.length>0&&(w.push({tag:"_t",text:new String(b)}),b="")}function a(){for(var e=!0,A=v;A<w.length;A++)if(e=t.tags[w[A].tag]<t.tags._v||"_t"==w[A].tag&&null===w[A].text.match(p),!e)return!1;return e}function c(t,e){if(r(),t&&a())for(var A,n=v;n<w.length;n++)w[n].text&&((A=w[n+1])&&">"==A.tag&&(A.indent=w[n].text.toString()),w.splice(n,1));else e||w.push({tag:"\n"});x=!1,v=w.length}function l(t,e){var n="="+y,i=t.indexOf(n,e),o=A(t.substring(t.indexOf("=",e)+1,i)).split(" ");return Q=o[0],y=o[o.length-1],i+n.length-1}var s=i.length,d=0,f=1,u=2,h=d,g=null,B=null,b="",w=[],x=!1,m=0,v=0,Q="{{",y="}}";for(o&&(o=o.split(" "),Q=o[0],y=o[1]),m=0;m<s;m++)h==d?n(Q,i,m)?(--m,r(),h=f):"\n"==i.charAt(m)?c(x):b+=i.charAt(m):h==f?(m+=Q.length-1,B=t.tags[i.charAt(m+1)],g=B?i.charAt(m+1):"_v","="==g?(m=l(i,m),h=d):(B&&m++,h=u),x=m):n(y,i,m)?(w.push({tag:g,n:A(b),otag:Q,ctag:y,i:"/"==g?x-Q.length:m+y.length}),b="",m+=y.length-1,h=d,"{"==g&&("}}"==y?m++:e(w[w.length-1]))):b+=i.charAt(m);return c(x,!0),w};var m={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,A,n){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+c(e)+"}"};var v=0;t.generate=function(e,A,n){v=0;var i={code:"",subs:{},partials:{}};return t.walk(e,i),n.asString?this.stringify(i,A,n):this.makeTemplate(i,A,n)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,A){var n=this.makePartials(t);return n.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(n,e,this,A)},t.makePartials=function(t){var e,A={subs:{},partials:t.partials,name:t.name};for(e in A.partials)A.partials[e]=this.makePartials(A.partials[e]);for(e in t.subs)A.subs[e]=new Function("c","p","t","i",t.subs[e]);return A},t.codegen={"#":function(e,A){A.code+="if(t.s(t."+s(e.n)+'("'+l(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,A),A.code+="});c.pop();}"},"^":function(e,A){A.code+="if(!t.s(t."+s(e.n)+'("'+l(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,A),A.code+="};"},">":d,"<":function(e,A){var n={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,n);var i=A.partials[d(e,A)];i.subs=n.subs,i.partials=n.partials},$:function(e,A){var n={subs:{},code:"",partials:A.partials,prefix:e.n};t.walk(e.nodes,n),A.subs[e.n]=n.code,A.inPartial||(A.code+='t.sub("'+l(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=u('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+s(t.n)+'("'+l(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=u('"'+l(t.text)+'"')},"{":f,"&":f},t.walk=function(e,A){for(var n,i=0,o=e.length;i<o;i++)n=t.codegen[e[i].tag],n&&n(e[i],A);return A},t.parse=function(t,e,A){return A=A||{},i(t,"",[],A.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,A){A=A||{};var n=t.cacheKey(e,A),i=this.cache[n];if(i){var o=i.partials;for(var r in o)delete o[r].instance;return i}return i=this.generate(this.parse(this.scan(e,A.delimiters),e,A),e,A),this.cache[n]=i}}(e)},function(t,e,A){var n=A(12);n.Template=A(14).Template,n.template=n.Template,t.exports=n},function(t,e,A){!function(t){function e(t,e,A){var n;return e&&"object"==typeof e&&(void 0!==e[t]?n=e[t]:A&&e.get&&"function"==typeof e.get&&(n=e.get(t))),n}function A(t,e,A,n,i,o){function r(){}function a(){}r.prototype=t,a.prototype=t.subs;var c,l=new r;l.subs=new a,l.subsText={},l.buf="",n=n||{},l.stackSubs=n,l.subsText=o;for(c in e)n[c]||(n[c]=e[c]);for(c in n)l.subs[c]=n[c];i=i||{},l.stackPartials=i;for(c in A)i[c]||(i[c]=A[c]);for(c in i)l.partials[c]=i[c];return l}function n(t){return String(null===t||void 0===t?"":t)}function i(t){return t=n(t),s.test(t)?t.replace(o,"&amp;").replace(r,"&lt;").replace(a,"&gt;").replace(c,"&#39;").replace(l,"&quot;"):t}t.Template=function(t,e,A,n){t=t||{},this.r=t.code||this.r,this.c=A,this.options=n||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,A){return""},v:i,t:n,render:function(t,e,A){return this.ri([t],e||{},A)},ri:function(t,e,A){return this.r(t,e,A)},ep:function(t,e){var n=this.partials[t],i=e[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[t].base=i,n.subs){e.stackText||(e.stackText={});for(key in n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);i=A(i,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=i,i},rp:function(t,e,A,n){var i=this.ep(t,A);return i?i.ri(e,A,n):""},rs:function(t,e,A){var n=t[t.length-1];if(!d(n))return void A(t,e,this);for(var i=0;i<n.length;i++)t.push(n[i]),A(t,e,this),t.pop()},s:function(t,e,A,n,i,o,r){var a;return(!d(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,A,n,i,o,r)),a=!!t,!n&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,A,n,i){var o,r=t.split("."),a=this.f(r[0],A,n,i),c=this.options.modelGet,l=null;if("."===t&&d(A[A.length-2]))a=A[A.length-1];else for(var s=1;s<r.length;s++)o=e(r[s],a,c),void 0!==o?(l=a,a=o):a="";return!(i&&!a)&&(i||"function"!=typeof a||(A.push(l),a=this.mv(a,A,n),A.pop()),a)},f:function(t,A,n,i){for(var o=!1,r=null,a=!1,c=this.options.modelGet,l=A.length-1;l>=0;l--)if(r=A[l],o=e(t,r,c),void 0!==o){a=!0;break}return a?(i||"function"!=typeof o||(o=this.mv(o,A,n)),o):!i&&""},ls:function(t,e,A,i,o){var r=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(n(t.call(e,i)),e,A)),this.options.delimiters=r,!1},ct:function(t,e,A){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,A)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,A,n,i,o,r){var a,c=e[e.length-1],l=t.call(c);return"function"==typeof l?!!n||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,c,A,a.substring(i,o),r)):l},mv:function(t,e,A){var i=e[e.length-1],o=t.call(i);return"function"==typeof o?this.ct(n(o.call(i)),i,A):o},sub:function(t,e,A,n){var i=this.subs[t];i&&(this.activeSub=t,i(e,A,this,n),this.activeSub=!1)}};var o=/&/g,r=/</g,a=/>/g,c=/\'/g,l=/\"/g,s=/[&<>\"\']/,d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)},function(t,e,A){var n=A(13);t.exports=function(){var t=new n.Template({code:function(t,e,A){var n=this;return n.b(A=A||""),n.b('<div class="lindat-refbox lindat-loading">'),n.b("\n"+A),n.b('  <div class="lindat-refbox-top">'),n.b("\n"+A),n.b('    <div class="lindat-refbox-header">'),n.b("\n"+A),n.b('      <div class="lindat-icon lindat-header-icon lindat-icon-quote"></div>'),n.b("\n"+A),n.b("      <h3>"),n.b(n.v(n.f("cite",t,e,0))),n.b("</h3>"),n.b("\n"+A),n.b('      <div class="lindat-refbox-formats" refbox-formats></div>'),n.b("\n"+A),n.b("    </div>"),n.b("\n"+A),n.b('    <div class="lindat-refbox-body">'),n.b("\n"+A),n.b('      <div class="lindat-refbox-text" refbox-text>'),n.b("\n"+A),n.b('        <div class="lindat-loader">'),n.b("\n"+A),n.b("          <div></div>"),n.b("\n"+A),n.b("          <div></div>"),n.b("\n"+A),n.b("          <div></div>"),n.b("\n"+A),n.b("        </div>"),n.b("\n"+A),n.b("      </div>"),n.b("\n"+A),n.b('      <div class="lindat-refbox-copy-wrapper">'),n.b("\n"+A),n.b('        <button class="lindat-icon lindat-icon-copy lindat-refbox-copy" refbox-copy-button></button>'),n.b("\n"+A),n.b("      </div>"),n.b("\n"+A),n.b("    </div>"),n.b("\n"+A),n.b('    <div class="lindat-format lindat-flexcol" style="display: none;">'),n.b("\n"+A),n.b("    </div>"),n.b("\n"+A),n.b("  </div>"),n.b("\n"+A),n.b('  <div class="lindat-refbox-footer">'),n.b("\n"+A),n.b('    <div class="lindat-refbox-integration" refbox-integrations>'),n.b("\n"+A),n.b('      <div class="lindat-refbox-header">'),n.b("\n"+A),n.b('        <div class="lindat-icon lindat-header-icon lindat-icon-puzzle"></div>'),n.b("\n"+A),n.b("        <h3>"),n.b(n.v(n.f("services",t,e,0))),n.b("</h3>"),n.b("\n"+A),n.b("      </div>"),n.b("\n"+A),n.b('      <div class="lindat-refbox-services" refbox-services>'),n.b("\n"+A),n.b("      </div>"),n.b("\n"+A),n.b("    </div>"),n.b("\n"+A),n.b('    <div class="lindat-refbox-header">'),n.b("\n"+A),n.b('      <div class="lindat-icon lindat-header-icon lindat-icon-share"></div>'),n.b("\n"+A),n.b("      <h3>"),n.b(n.v(n.f("share",t,e,0))),n.b("</h3>"),n.b("\n"+A),n.b('      <div class="lindat-refbox-shares" refbox-shares></div>'),n.b("\n"+A),n.b("    </div>"),n.b("\n"+A),n.b("  </div>"),n.b("\n"+A),n.b("</div>"),n.b("\n"),n.fl()},partials:{},subs:{}},'<div class="lindat-refbox lindat-loading">\n  <div class="lindat-refbox-top">\n    <div class="lindat-refbox-header">\n      <div class="lindat-icon lindat-header-icon lindat-icon-quote"></div>\n      <h3>{{cite}}</h3>\n      <div class="lindat-refbox-formats" refbox-formats></div>\n    </div>\n    <div class="lindat-refbox-body">\n      <div class="lindat-refbox-text" refbox-text>\n        <div class="lindat-loader">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n      <div class="lindat-refbox-copy-wrapper">\n        <button class="lindat-icon lindat-icon-copy lindat-refbox-copy" refbox-copy-button></button>\n      </div>\n    </div>\n    <div class="lindat-format lindat-flexcol" style="display: none;">\n    </div>\n  </div>\n  <div class="lindat-refbox-footer">\n    <div class="lindat-refbox-integration" refbox-integrations>\n      <div class="lindat-refbox-header">\n        <div class="lindat-icon lindat-header-icon lindat-icon-puzzle"></div>\n        <h3>{{services}}</h3>\n      </div>\n      <div class="lindat-refbox-services" refbox-services>\n      </div>\n    </div>\n    <div class="lindat-refbox-header">\n      <div class="lindat-icon lindat-header-icon lindat-icon-share"></div>\n      <h3>{{share}}</h3>\n      <div class="lindat-refbox-shares" refbox-shares></div>\n    </div>\n  </div>\n</div>\n',n);
return t.render.apply(t,arguments)}},function(t,e,A){function n(t,e){for(var A=0;A<t.length;A++){var n=t[A],i=d[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(a(n.parts[o],e))}else{for(var r=[],o=0;o<n.parts.length;o++)r.push(a(n.parts[o],e));d[n.id]={id:n.id,refs:1,parts:r}}}}function i(t){for(var e=[],A={},n=0;n<t.length;n++){var i=t[n],o=i[0],r=i[1],a=i[2],c=i[3],l={css:r,media:a,sourceMap:c};A[o]?A[o].parts.push(l):e.push(A[o]={id:o,parts:[l]})}return e}function o(){var t=document.createElement("style"),e=p();return t.type="text/css",e.appendChild(t),t}function r(){var t=document.createElement("link"),e=p();return t.rel="stylesheet",e.appendChild(t),t}function a(t,e){var A,n,i;if(e.singleton){var a=g++;A=h||(h=o()),n=c.bind(null,A,a,!1),i=c.bind(null,A,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(A=r(),n=s.bind(null,A),i=function(){A.parentNode.removeChild(A),A.href&&URL.revokeObjectURL(A.href)}):(A=o(),n=l.bind(null,A),i=function(){A.parentNode.removeChild(A)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function c(t,e,A,n){var i=A?"":n.css;if(t.styleSheet)t.styleSheet.cssText=B(e,i);else{var o=document.createTextNode(i),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function l(t,e){var A=e.css,n=e.media;e.sourceMap;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=A;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(A))}}function s(t,e){var A=e.css,n=(e.media,e.sourceMap);n&&(A+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([A],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},u=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=f(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,g=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=u());var A=i(t);return n(A,e),function(t){for(var o=[],r=0;r<A.length;r++){var a=A[r],c=d[a.id];c.refs--,o.push(c)}if(t){var l=i(t);n(l,e)}for(var r=0;r<o.length;r++){var c=o[r];if(0===c.refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete d[c.id]}}}};var B=function(){var t=[];return function(e,A){return t[e]=A,t.filter(Boolean).join("\n")}}()},function(t,e,A){var n=A(10);"string"==typeof n&&(n=[[t.id,n,""]]);A(16)(n,{});n.locals&&(t.exports=n.locals)},function(t,e){t.exports="data:application/octet-stream;base64,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"},function(t,e){t.exports="data:application/vnd.ms-fontobject;base64,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"},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwMjQiIHdpZHRoPSI4OTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iI2ZiZWVkNSIgZD0iTTEyOCA3NjhoMjU2djY0SDEyOHYtNjR6IG0zMjAtMzg0SDEyOHY2NGgzMjB2LTY0eiBtMTI4IDE5MlY0NDhMMzg0IDY0MGwxOTIgMTkyVjcwNGgzMjBWNTc2SDU3NnogbS0yODgtNjRIMTI4djY0aDE2MHYtNjR6TTEyOCA3MDRoMTYwdi02NEgxMjh2NjR6IG01NzYgNjRoNjR2MTI4Yy0xIDE4LTcgMzMtMTkgNDVzLTI3IDE4LTQ1IDE5SDY0Yy0zNSAwLTY0LTI5LTY0LTY0VjE5MmMwLTM1IDI5LTY0IDY0LTY0aDE5MkMyNTYgNTcgMzEzIDAgMzg0IDBzMTI4IDU3IDEyOCAxMjhoMTkyYzM1IDAgNjQgMjkgNjQgNjR2MzIwaC02NFYzMjBINjR2NTc2aDY0MFY3Njh6TTEyOCAyNTZoNTEyYzAtMzUtMjktNjQtNjQtNjRoLTY0Yy0zNSAwLTY0LTI5LTY0LTY0cy0yOS02NC02NC02NC02NCAyOS02NCA2NC0yOSA2NC02NCA2NGgtNjRjLTM1IDAtNjQgMjktNjQgNjR6IiAvPgo8L3N2Zz4K"},function(t,e,A){function n(t,e){return t.replace(/\{([^\}]+)\}/g,function(t,A){return A in e?encodeURIComponent(e[A]):t})}function i(t){function e(){A&&(A=!1,t.hide(),r(document).off("click.refbox"))}var A=!1;return r("<button></button>").addClass("lindat-button lindat-dropdown-toggle").attr("type","button").append(r("<span></span>").addClass("lindat-dropdown-caret")).click(function(){A?e():(setTimeout(function(){r(document).on("click.refbox",e)}),t.show(),A=!0)})}function o(t,e){var n=this;if(e||(e={}),!(n instanceof o))return new o(t,e);["handle","title"].forEach(function(A){if(!e[A]){var i=t.getAttribute(A);if(t.removeAttribute(A),!i)throw new Error("RefBox: Option '"+A+"' not specified.");n[A]=i}});var i=A(15);n.body=r(i({cite:"Za citiranje vnosa uporabite naslednjo referenco ali jo izvozite v prednastavljeno obliko:",services:"Ta vir je integriran tudi v naslednje storitve:",share:"Delite:"})),n.formatsContainer=n.body.find("[refbox-formats]"),n.sharesContainer=n.body.find("[refbox-shares]"),n.integrationContainer=n.body.find("[refbox-integrations]"),Object.keys(e).forEach(function(t){n[t]=e[t]}),n.uri="http://hdl.handle.net/"+n.handle,n.requestQueue=[],n.text=n.body.find("[refbox-text]"),n.copyButton=n.body.find("[refbox-copy-button]"),n.container=r(t).empty().append(n.body),n.copiedTooltip=r('<span class="lindat-tooltip" style="display: none">Copied!</span>').appendTo(n.container),n.init()}A(17);var r=A(1),a=A(3),c=[{name:"facebook",popup:{url:"http://www.facebook.com/sharer/sharer.php?u={uri}",width:600,height:500}},{name:"twitter",popup:{url:"http://twitter.com/intent/tweet?url={uri}&text={title}",width:600,height:450}},{name:"google-plus",popup:{url:"https://plus.google.com/share?url={uri}",width:700,height:500}}];o.prototype.init=function(){function t(){o.empty().html("<a href='"+A.uri+"'>"+A.uri+"</a>")}function e(t){var e=r(t.trigger).offset(),n=r(t.trigger).outerHeight(!0);A.copiedTooltip.css({top:e.top+n,left:e.left}),A.copiedTooltip.fadeIn("slow"),setTimeout(function(){A.copiedTooltip.fadeOut("slow")},1e3),t.clearSelection()}var A=this,o=A.text;A.copyButton;A.fetchInitial().done(function(t){t.title&&(A.title=t.title);var l=t.exportFormats.exportFormat;if(l&&l.length>0&&l.forEach(function(t){var n=r("<a></a>").attr("href",t.url).on("click",function(n){n.preventDefault(),A.request(t).done(function(n){if(n.split("\n").length<50){var i=A.copyButton.clone();A.body.find(".lindat-format").empty().append(r("<h3 class='lindat-flexrow' style='padding-top: 6px;'>").text(t.name)).append(r("<div class='lindat-flexrow'>").append(r("<div class='lindat-format-content'>").append(r("<pre>").text(n))).append(r("<div class='lindat-format-copy'>").append(i))).slideToggle();var o=new a(i.get(0),{text:function(t){return n}});o.on("success",e),o.on("error",function(e){A.modal(A.title,n,t.name)})}else A.modal(A.title,n,t.name)})}).text(t.name);A.formatsContainer.append(n)}),t.displayText){o.empty().append(t.displayText);var s=new a(A.copyButton.get(0),{text:function(t){return o.text()}});s.on("success",e),s.on("error",function(t){A.modal(A.title,o.text())}),A.body.removeClass("lindat-loading")}var d=t.featuredServices.featuredService;if(d&&d.length>0){var f=A.integrationContainer.find("[refbox-services]");d.forEach(function(t){var e=t.links,A=r("<a></a>").addClass("lindat-button").attr("target","_blank").attr("title",t.description).attr("href",t.url).text(t.name);if(e&&e.entry.length>0){var n=r("<ul></ul>").addClass("lindat-dropdown-menu"),o=r("<div></div>").addClass("lindat-dropdown").append(A).append(i(n)).append(n);e.entry.forEach(function(t){n.append(r("<li></li>").append(r("<a></a>").attr("target","_blank").attr("href",t.value).text(t.key)))}),f.append(o)}else f.append(A)})}else A.integrationContainer.remove();c.forEach(function(t){var e=t.popup,i=n(e.url,A),o=r("<a></a>").attr("class","lindat-icon lindat-icon-"+t.name+" lindat-share-"+t.name).attr("href",i).on("click",function(t){t.preventDefault(),window.open(i,A.title,"height:"+e.height+",width:"+e.width)});A.sharesContainer.append(o)})}).fail(t)},o.prototype.ajax=function(){var t=this,e=r.ajax.apply(r,arguments);return t.requestQueue.push(e),e.always(function(){var A=t.requestQueue.indexOf(e);A!==-1&&t.requestQueue.splice(A,1)})},o.prototype.request=function(t){var e=r.Deferred();return this.ajax(t.url,{dataType:t.dataType,cache:!0}).done(function(A){if("xml"===t.dataType){var n=r(A),i=n.find("error");if(i.length)e.reject();else{var o=n.find(t.name);e.resolve(o.length?o.html():n)}}else e.resolve(A.value)}).fail(e.reject),e},o.prototype.fetchInitial=function(){var t=this.rest+"/handle/"+this.handle+"/refbox";return this.ajax(t,{dataType:"json",cache:!0})},o.prototype.modal=function(t,e,A){function n(t){return t!==!0&&l?void(l=!1):(d.modalInstance=null,u.removeClass(f),o.remove(),r(document).off(".lindat"),void r(window).off(".lindat"))}function i(){s.focus().select()}var o,a,c,l,s,d=this,f="lindat-modal-open",u=r("html");u.hasClass(f)||(u.addClass(f),o=r('<div class="lindat-overlay"></div>').on("click",n).appendTo(document.body),a=r('<div class="lindat-modal" role="dialog"></div>').on("click",function(){l=!0}).appendTo(o),c=r('<div class="lindat-modal-close-button">&#xD7;</div>').on("click",n),r('<div class="lindat-modal-header"></div>').append(r("<h3></h3>").text(t).append(r("<p>Press <kbd>ctrl + c</kbd> to copy</p>"))).append(c).appendTo(a),s=r('<textarea readonly="readonly"></textarea>').on("mouseover",i).text(e),r('<div class="lindat-modal-body"></div>').append(s).appendTo(a),A&&r('<div class="lindat-modal-footer"></div>').text(A).appendTo(a),i(),d.modalInstance={element:a,overlay:o,destroy:n},r(document).on("keydown.lindat",function(t){27===t.keyCode&&n()}),r(window).on("hashchange.lindat",n))},o.prototype.destroy=function(){var t,e=this;for(e.modalInstance&&e.modalInstance.destroy(!0);t=e.requestQueue.pop();)t.abort()},t.exports=o}])});
//# sourceMappingURL=lindat-refbox.js.map