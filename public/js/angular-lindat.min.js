!function(t){function e(t,e){function a(a,i){var n;if(!t.LindatRefBox)throw new Error("Lindat Refbox is not available");a.$watchGroup(["handle","title"],function(a){a&&(n=new t.LindatRefBox(i,{handle:a[0],title:a[1],rest:e}))}),a.$on("$destroy",function(){n&&n.destroy()})}return{restrict:"AE",scope:{handle:"=",title:"="},link:a}}function a(){function t(t,e){var a=e[0].querySelector(".lindat-menu-btn"),i=e[0].querySelector(".lindat-menu");a&&angular.element(a).on("click",function(){angular.element(i).toggleClass("lindat-open")})}return{restrict:"AE",templateUrl:"partials/header.htm",link:t}}function i(){return{restrict:"AE",templateUrl:"partials/footer.htm"}}function n(t,e){return t.replace(/\{([^\}]+)\}/g,function(t,a){return a in e?encodeURIComponent(e[a]):t})}function o(e){function a(){i&&(i=!1,e.hide(),t(document).off("click.refbox"))}var i=!1;return t("<button></button>").addClass("lindat-button lindat-dropdown-toggle").attr("type","button").append(t("<span></span>").addClass("lindat-dropdown-caret")).click(function(){i?a():(setTimeout(function(){t(document).on("click.refbox",a)}),e.show(),i=!0)})}function l(e,a){var i=this;if(a||(a={}),!(i instanceof l))return new l(e,a);["handle","title"].forEach(function(t){if(!a[t]){var n=e.getAttribute(t);if(e.removeAttribute(t),!n)throw new Error("RefBox: Option '"+t+"' not specified.");i[t]=n}});var n=i.body=t(l.template);i.formatsContainer=n.find("[refbox-formats]"),i.sharesContainer=n.find("[refbox-shares]"),i.integrationContainer=n.find("[refbox-integrations]"),Object.keys(a).forEach(function(t){i[t]=a[t]}),i.uri="http://hdl.handle.net/"+i.handle,i.requestQueue=[],i.text=n.find("[refbox-text]"),i.copyButton=n.find("[refbox-copy-button]"),i.container=t(e).empty().append(n),i.init()}angular.module("lindat",["piwik","angular-google-analytics"]).constant("piwikUrl","//ufal.mff.cuni.cz/piwik/").constant("refboxRestAPI","https://lindat.mff.cuni.cz/repository/rest").config(["AnalyticsProvider",function(t){t.setAccount("UA-27008245-2"),t.setDomainName("cuni.cz"),t.trackPages(!0),t.setPageEvent("$stateChangeSuccess")}]).run(["Analytics","Piwik","piwikUrl",function(t,e,a){e.setCookieDomain("*.mff.cuni.cz"),e.setDomains(["*.mff.cuni.cz"]),e.setCustomVariable(1,"source","common-theme","page"),e.enableLinkTracking(),e.setTrackerUrl(a+"piwik.php"),e.setSiteId(2)}]),angular.module("lindat").run(["$templateCache",function(t){t.put("partials/footer.htm",'<div class="lindat-common lindat-footer"><div class="lindat-footer-main"><div class="lindat-footer-content lindat-container"><div class="lindat-footer-left"><a class="lindat-clarinb-logo" href="http://hdl.handle.net/1839/00-DOCS.CLARIN.EU-99" title="Clarin B Center"></a> <a class="lindat-dsa-logo" href="https://assessment.datasealofapproval.org/assessment_92/seal/html" title="Data Seal of Approval"></a></div><div class="lindat-footer-text"><div class="lindat-footer-text1"><h1>Partners, Coordination, Funding</h1><ul><li><a href="http://www.kky.zcu.cz/en">Dept. of Cybernetics, Univ. of West Bohemia</a></li><li><a href="http://ufal.mff.cuni.cz">Institute of Formal and Applied Linguistics (Prague)</a></li><li><a href="http://www.ujc.cas.cz">Institute of Czech Language (Prague)</a></li><li><a href="http://nlp.fi.muni.cz">NLP Centre, Masaryk University (Brno)</a></li><li><a href="http://www.msmt.cz">Ministry of Education, Sports and Youth of the Czech Republic</a></li></ul></div><div class="lindat-footer-text2"><h1>Repository</h1><ul><li><a href="https://lindat.mff.cuni.cz/repository/xmlui/">Main page</a></li><li><a href="https://lindat.mff.cuni.cz/en/about-lindat-clarin">Contact</a></li><li><a href="https://lindat.mff.cuni.cz/repository/xmlui/page/item-lifecycle">Submission Lifecycle</a></li><li><a href="https://lindat.mff.cuni.cz/repository/xmlui/page/faq">FAQ</a></li><li><a href="https://lindat.mff.cuni.cz/repository/xmlui/page/about">About and Policies</a></li></ul></div><div class="lindat-footer-text3"><h1>More</h1><ul><li><a href="http://www.clarin.eu/">CLARIN</a></li><li><a href="http://www.meta-net.eu/">META-Net</a></li><li><a href="https://lindat.mff.cuni.cz/en/monitoring">Service Status</a></li><li><a href="https://lindat.mff.cuni.cz/en/blocked-idps">Authentication</a></li></ul></div></div><div class="lindat-footer-right"><a class="lindat-logo-mono" href="http://lindat.mff.cuni.cz/lindat/" title="LINDAT/CLARIN"></a> <a class="lindat-msmt-logo" href="http://www.msmt.cz/" title="MÅ MT"></a></div></div></div><div class="lindat-copyright"><p><strong><span>THE LINDAT/CLARIN PROJECT (LM2010013) IS FULLY SUPPORTED BY THE MINISTRY OF EDUCATION, SPORTS</span><br><span>AND YOUTH OF THE CZECH REPUBLIC UNDER THE PROGRAMME LM OF &quot;LARGE INFRASTRUCTURES&quot;.</span></strong></p><p>Copyright (c) 2015 UFAL MFF UK. All rights reserved.</p></div><ngp-piwik ngp-set-js-url="//ufal.mff.cuni.cz/piwik/piwik.js"></ngp-piwik></div>'),t.put("partials/header.htm",'<nav class="lindat-header lindat-common" role="navigation"><button type="button" class="lindat-menu-btn"><span class="lindat-menu-icon"><span class="lindat-icon-bar"></span> <span class="lindat-icon-bar"></span> <span class="lindat-icon-bar"></span></span></button><ul class="lindat-menu"><li class="lindat-home-item"><a href="http://lindat.mff.cuni.cz/" class="lindat-logo"><span>Home</span></a></li><li class="lindat-repository-item"><a href="https://lindat.mff.cuni.cz/repository/xmlui/"><span>Repository</span></a></li><li class="lindat-pmltq-item"><a href="https://lindat.mff.cuni.cz/services/pmltq/"><span>TreeQuery</span></a></li><li class="lindat-treex-item"><a href="https://lindat.mff.cuni.cz/services/treex-web/run/"><span>Treex</span></a></li><li class="lindat-tools-item"><a href="https://lindat.mff.cuni.cz/services"><span>More Apps</span></a></li><li class="lindat-events-item"><a href="https://lindat.mff.cuni.cz/en/events"><span>Events</span></a></li><li class="lindat-about-item"><a href="https://lindat.mff.cuni.cz/en/about-lindat-clarin"><span>About</span></a></li><li class="lindat-clarin-menu"><a href="http://www.clarin.eu" class="clarin-logo"><span>CLARIN</span></a></li></ul></nav>')}]),e.$inject=["$window","refboxRestAPI"],angular.module("lindat").directive("lindatRefbox",e),angular.module("lindat").directive("lindatHeader",a),angular.module("lindat").directive("lindatFooter",i),window.LindatRefBox.template='<div class="lindat-refbox lindat-loading"><div class="lindat-refbox-top"><div class="lindat-refbox-header"><div class="lindat-icon lindat-header-icon lindat-icon-quote"></div><h3>Please use the following text to cite this item or export to a predefined format:</h3><div class="lindat-refbox-formats" refbox-formats=""></div></div><div class="lindat-refbox-body"><div class="lindat-refbox-text" refbox-text=""><div class="lindat-loader"><div></div><div></div><div></div></div></div><div><button class="lindat-refbox-copy lindat-icon lindat-icon-copy" refbox-copy-button=""></button></div></div></div><div class="lindat-refbox-footer"><div class="lindat-refbox-integration" refbox-integrations=""><div class="lindat-refbox-header"><div class="lindat-icon lindat-header-icon lindat-icon-puzzle"></div><h3>This resource is also integrated in following services:</h3></div><div class="lindat-refbox-services" refbox-services=""></div></div><div class="lindat-refbox-header"><div class="lindat-icon lindat-header-icon lindat-icon-share"></div><h3>Share:</h3><div class="lindat-refbox-shares" refbox-shares=""></div></div></div></div>';var r=[{name:"facebook",popup:{url:"http://www.facebook.com/sharer/sharer.php?u={uri}",width:600,height:500}},{name:"twitter",popup:{url:"http://twitter.com/intent/tweet?url={uri}&text={title}",width:600,height:450}},{name:"google-plus",popup:{url:"https://plus.google.com/share?url={uri}",width:700,height:500}}];l.prototype.init=function(){function e(){i.empty().html("<a href='"+a.uri+"'>"+a.uri+"</a>")}var a=this,i=a.text,l=a.copyButton;a.fetchInitial().done(function(e){e.title&&(a.title=e.title);var s=e.exportFormats.exportFormat;s&&s.length>0&&s.forEach(function(e){var i=t("<a></a>").attr("href",e.url).on("click",function(t){t.preventDefault(),a.request(e).done(function(t){a.modal(a.title,t,e.name)})}).text(e.name);a.formatsContainer.append(i)}),e.displayText&&(i.empty().append(e.displayText),l.on("click",function(t){t.preventDefault(),a.modal(a.title,i.text())}),a.body.removeClass("lindat-loading"));var d=e.featuredServices.featuredService;if(d&&d.length>0){var c=a.integrationContainer.find("[refbox-services]");d.forEach(function(e){var a=e.links,i=t("<a></a>").addClass("lindat-button").attr("target","_blank").attr("title",e.description).attr("href",e.url).text(e.name);if(a&&a.entry.length>0){var n=t("<ul></ul>").addClass("lindat-dropdown-menu"),l=t("<div></div>").addClass("lindat-dropdown").append(i).append(o(n)).append(n);a.entry.forEach(function(e){n.append(t("<li></li>").append(t("<a></a>").attr("target","_blank").attr("href",e.value).text(e.key)))}),c.append(l)}else c.append(i)})}else a.integrationContainer.remove();r.forEach(function(e){var i=e.popup,o=n(i.url,a),l=t("<a></a>").attr("class","lindat-icon lindat-icon-"+e.name+" lindat-share-"+e.name).attr("href",o).on("click",function(t){t.preventDefault(),window.open(o,a.title,"height:"+i.height+",width:"+i.width)});a.sharesContainer.append(l)})}).fail(e)},l.prototype.ajax=function(){var e=this,a=t.ajax.apply(t,arguments);return e.requestQueue.push(a),a.always(function(){var t=e.requestQueue.indexOf(a);-1!==t&&e.requestQueue.splice(t,1)})},l.prototype.request=function(e){var a=t.Deferred();return this.ajax(e.url,{dataType:e.dataType,cache:!0}).done(function(i){if("xml"===e.dataType){var n=t(i),o=n.find("error");if(o.length)a.reject();else{var l=n.find(e.name);a.resolve(l.length?l.html():n)}}else a.resolve(i.value)}).fail(a.reject),a},l.prototype.fetchInitial=function(){var t=this.rest+"/handle/"+this.handle+"/refbox";return this.ajax(t,{dataType:"json",cache:!0})},l.prototype.modal=function(e,a,i){function n(e){return e!==!0&&d?void(d=!1):(f.modalInstance=null,u.removeClass(p),l.remove(),t(document).off(".lindat"),void t(window).off(".lindat"))}function o(){c.focus().select()}var l,r,s,d,c,f=this,p="lindat-modal-open",u=t("html");u.hasClass(p)||(u.addClass(p),l=t('<div class="lindat-overlay"></div>').on("click",n).appendTo(document.body),r=t('<div class="lindat-modal" role="dialog"></div>').on("click",function(){d=!0}).appendTo(l),s=t('<div class="lindat-modal-close-button">&#xD7;</div>').on("click",n),t('<div class="lindat-modal-header"></div>').append(t("<h3></h3>").text(e).append(t("<p>Press <kbd>ctrl + c</kbd> to copy</p>"))).append(s).appendTo(r),c=t('<textarea readonly="readonly"></textarea>').on("mouseover",o).text(a),t('<div class="lindat-modal-body"></div>').append(c).appendTo(r),i&&t('<div class="lindat-modal-footer"></div>').text(i).appendTo(r),o(),f.modalInstance={element:r,overlay:l,destroy:n},t(document).on("keydown.lindat",function(t){27===t.keyCode&&n()}),t(window).on("hashchange.lindat",n))},l.prototype.destroy=function(){var t,e=this;for(e.modalInstance&&e.modalInstance.destroy(!0);t=e.requestQueue.pop();)t.abort()},window.LindatRefBox=l,t.fn.lindatRefBox=function(e){var a=t.extend({},{rest:"https://lindat.mff.cuni.cz/repository/rest"},e),i="lindat-refbox";return this.each(function(){var e=t(this),n=e.data(i);n&&n.destroy(),e.data(i,new l(this,a))}),this},t(document).ready(function(){window.LindatRefBoxConfig||(window.LindatRefBoxConfig={}),t(".refbox").lindatRefBox(window.LindatRefBoxConfig)})}(jQuery);